*convert character string to hexcode then use strlen to check each character,
*if a character hex code is less than code 20 (SPACE) then replace with space
*characters with hex code less than 20 are control characters and are not acceptable in systems
 l_strlen = STRLEN( SOURCE2 ).
 l_offset = 0.
 call function 'NLS_STRING_CONVERT_FROM_SYS' "convert character to hex code
   EXPORTING
     LANG_USED = 'E'
     SOURCE    = SOURCE2
   IMPORTING
     RESULT    = hexcode.
 RET_RESULT = SOURCE2.

 do l_strlen times.
   l_offset2 = sy-index - 1.
   hexchar = hexcode+l_offset2(1).

   if hexchar < hex_space. "if HEX character is control characters
     replace section offset l_offset length 1 of RET_RESULT with space.
     l_offset = l_offset - 1.
   endif.

   l_offset = l_offset + 1.
 enddo.
